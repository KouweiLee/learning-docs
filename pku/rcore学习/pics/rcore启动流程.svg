<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1297.6666870117188 438.93328247070315" width="1297.6666870117188" height="438.93328247070315">
  <!-- svg-source:excalidraw -->
  
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
    
  </defs>
  <rect x="0" y="0" width="1297.6666870117188" height="438.93328247070315" fill="#ffffff"></rect><g transform="translate(633 10) rotate(0 72 21.599999999999994)"><text x="72" y="0" font-family="Cascadia, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">启动流程</text></g><g transform="translate(10 239.26665649414062) rotate(0 60 12)"><text x="60" y="0" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">启动分页模式</text></g><g transform="translate(366.43218994140625 133.46662597656248) rotate(0 132.234375 16.80000000000001)"><text x="132.234375" y="0" font-family="Cascadia, Segoe UI Emoji" font-size="28px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">初始化TaskManager</text></g><g stroke-linecap="round" transform="translate(251.66668701171875 115.59996948242187) rotate(0 234.00003051757812 150.6666717529297)"><path d="M0.18 -0.09 C104.24 1, 207.96 1.26, 468.83 -0.85 M-0.32 -0.15 C94.83 -1.22, 190.62 -0.61, 467.86 0.12 M468.96 -0.86 C470.26 70.64, 470.11 138.22, 469.11 301.28 M468.53 0.42 C466.44 112, 465.96 223.91, 468.3 301.92 M467.97 301.25 C358.8 300.49, 250.31 300.82, -0.01 300.76 M468.33 301.24 C323.43 301.92, 179.08 301.3, -0.09 301.73 M1.19 301.08 C1.71 200.33, 1.43 97.71, -0.06 -0.37 M0.27 301.55 C-0.51 214.89, -0.81 128.79, 0.6 -0.07" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(282.3385314941406 206.2666259765625) rotate(0 210.9375 96)"><text x="0" y="0" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">为每个应用构建task_control_block:</text><text x="0" y="24" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="48" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">* task_context：ra&lt;-trap_return</text><text x="0" y="72" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">                sp&lt;-kernel_stack4app</text><text x="0" y="96" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="120" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">* trap_context: set trap_handler</text><text x="0" y="144" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">                sepc &lt;- entry</text><text x="0" y="168" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">                sp &lt;- user_sp</text></g><g stroke-linecap="round"><g transform="translate(136.3333740234375 254.64395735743935) rotate(0 55.35879216529429 1.6377395066954534)"><path d="M0.07 1.52 C40.18 0.34, 78.88 2.16, 108.05 1.71 M0.36 0.73 C36.83 -1.06, 73.62 0.06, 110.65 3.4" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(136.3333740234375 254.64395735743935) rotate(0 55.35879216529429 1.6377395066954534)"><path d="M81.86 13.14 C93.17 7.86, 103.17 5.93, 108.7 2.7 M82.16 12.34 C91.75 7.72, 101.65 5.32, 111.3 4.38" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(136.3333740234375 254.64395735743935) rotate(0 55.35879216529429 1.6377395066954534)"><path d="M83.33 -7.33 C94.32 -5.37, 103.8 -0.07, 108.7 2.7 M83.62 -8.13 C92.69 -5.96, 102.11 -1.57, 111.3 4.38" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(861.6666870117188 100.26659545898437) rotate(0 213 164.33334350585938)"><path d="M0 0 C0 0, 0 0, 0 0 M0 0 C0 0, 0 0, 0 0 M-0.34 7.09 C1.17 4.51, 3.39 2.46, 5.54 0.62 M-0.01 6.53 C1.65 3.93, 3.51 2.14, 5.37 0.57 M0.62 10.89 C2.62 10.78, 3.65 6.38, 11.86 -0.6 M0.73 12.12 C3.23 9.89, 5.55 7.07, 10.68 0.75 M-1.12 19.36 C6.47 12.62, 11.22 5.75, 16.05 1.4 M-0.77 17.78 C6.31 12.61, 10.22 6.27, 14.79 0.78 M-1.34 25.41 C6.64 18.62, 11.34 9.09, 20.37 -1.84 M0.72 24.37 C6.7 17.11, 10.68 10.41, 21.26 -0.33 M-0.13 31.42 C6.83 22.7, 14.64 13.16, 26.31 0.2 M-0.76 30.24 C6.57 24.16, 11 17.22, 25.86 0.39 M-0.27 36.76 C9.07 26.27, 16.18 17.35, 32.88 -1.66 M-1.03 36.93 C9.5 26.26, 20.12 14.82, 31.42 0.06 M0.65 41.92 C8.87 31.25, 16.35 21.96, 37.44 -0.19 M-0.45 42.36 C11.32 30.43, 20.8 17.69, 37.73 1.05 M-1.95 49.07 C13.28 31.74, 29.02 16.79, 42.69 0.52 M-0.76 49.91 C15.54 30.07, 30.59 13.52, 41.89 -0.19 M-1.3 55.06 C19.15 33.26, 38.05 12.26, 49.14 1.27 M0.62 54.07 C10.08 42.76, 20.76 30.23, 48.24 -0.2 M1.17 59.63 C10.05 49.63, 22.18 35.65, 54.17 0.04 M0.48 61.34 C16.59 42.85, 31.19 26.24, 52.68 0.3 M-1.75 66.45 C13.11 50.52, 24.12 37.08, 56.47 0.23 M-0.45 67.77 C15.43 49.32, 33 29.3, 58.58 -0.65 M0.65 71.59 C13.27 56.69, 30.05 40.73, 63.07 -1.11 M-0.38 72.18 C16.76 53.33, 33.11 34.92, 63.12 0.58 M0.85 80.05 C16.22 60.99, 33.13 38.81, 69.85 -1.02 M0.73 79.24 C22.3 53.87, 42.78 29.07, 69.22 0.11 M-0.59 86.73 C22.89 58.97, 45.57 34.51, 72.52 1.64 M0.88 85.1 C18.79 64.28, 37.07 44.11, 73.85 -0.59 M1.47 92.71 C20.33 68.45, 41.93 42.56, 79.12 -1.57 M-0.09 92.25 C21.24 64.78, 43.38 38.92, 79.97 0.18 M-0.89 98.22 C19.18 76.16, 40 52.7, 85.02 -0.47 M-0.83 97.18 C30.36 61.87, 61.54 26.99, 84.83 -0.78 M-0.88 103.16 C20.05 82.74, 37.76 59.41, 89.43 -1.9 M0.78 103.48 C34.57 65.14, 66.64 25.97, 89.93 -0.68 M-1.24 111.59 C18.74 85.95, 40.62 61.68, 94.43 -1.6 M0.66 108.96 C29.16 76.67, 58.61 43.02, 95.32 0.13 M0.15 116.73 C37.29 71.62, 73.98 26.84, 101.37 0.16 M0.36 115.3 C31.05 80.5, 60.35 45.77, 101.53 1.02 M-1.25 121.24 C30.04 84.8, 62.57 50.64, 106 -1.28 M0.86 122.91 C37.61 80.11, 73.23 37.07, 105.9 -0.04 M1.68 130.16 C35.88 82.74, 75.41 38.07, 110.86 1.39 M0.33 128.53 C42.4 80.05, 83.3 31.62, 110.5 0.43 M-0.48 135.45 C36.39 88.28, 75.79 44.17, 115.71 0.34 M-0.74 134.42 C37.31 90.24, 76.03 48.19, 115.81 0.97 M-1.88 140.52 C33.92 104.89, 64.33 65.19, 121.22 1.19 M-0.37 139.42 C32.03 102.9, 65.11 67.39, 121.9 0.38 M0.89 145.15 C29.82 110.2, 60.77 73.76, 128.85 -0.53 M0.65 146.59 C30.53 109.13, 59.45 75.93, 127.57 0.82 M1.19 153.66 C50.49 94.68, 103.8 32.79, 131.28 1.44 M0.52 152.17 C52.57 92.91, 105.19 31.86, 132.12 -0.53 M1.18 160.39 C46.77 106.83, 93.4 52.04, 136.32 1.11 M0.41 158.94 C34.57 116.74, 69.81 75.62, 137.08 1.05 M-0.71 165.66 C49.54 108.66, 97.71 53.79, 142.72 -0.62 M-0.48 163.91 C56.28 100.66, 111.78 36.29, 142.77 -0.24 M0.71 172.24 C34.23 134.05, 64.97 98.89, 148.34 0.51 M-0.43 170.54 C48.8 114.3, 96.18 59, 148.03 0.48 M-0.89 175.33 C37.34 136.2, 75.34 93.73, 153.31 1.28 M-0.16 177.17 C35.41 136.76, 69 98.16, 154.63 -0.64 M0.5 184.06 C35.77 140.62, 74.29 97.97, 159.48 -0.75 M-0.15 182.22 C55.52 119.07, 111.28 54.36, 159.53 1.01 M-1.3 187.8 C56.28 127.49, 111.83 64.8, 163.78 -1.46 M-0.21 189.69 C34.31 148.46, 71.01 106.79, 164.56 -0.36 M1.58 193.76 C45.6 144.21, 88.8 97.07, 171 0.81 M-0.44 195.45 C36.97 153.16, 71.52 112.53, 168.66 0.88 M0.92 201.16 C40.8 155.96, 78.42 107.91, 174.3 -1.67 M-0.75 201.85 C52 141.25, 105.62 79.98, 175.6 -0.05 M1.26 207.81 C51.5 143.86, 104.77 84.15, 180.45 0.9 M-0.18 206.62 C63.52 132.9, 125.29 61.7, 180.14 -0.14 M-0.14 214.73 C45.94 163, 91.85 111.24, 184.53 -0.22 M0.35 212.73 C66.29 135.57, 133.45 59.42, 185.3 -0.48 M-0.95 219.52 C56.33 155.1, 114.1 91.25, 191.21 0.76 M0.43 219.09 C74.37 133.96, 148.8 49.71, 190.04 0.53 M-0.66 226.26 C45.44 171.29, 93.27 118.68, 196.66 1.08 M0.6 225.08 C46.37 175.28, 92.08 123.25, 196.9 0.36 M-1.1 231.51 C65.87 156.34, 129.09 83.17, 199.99 0.5 M-0.31 231.96 C63.19 160.01, 125.27 89.82, 201.7 0.54 M-0.6 238.49 C81.83 143.21, 161.72 51.57, 206.44 -0.3 M0.17 236.81 C69.93 155.07, 140.36 75.47, 207.06 -0.26 M-0.83 244.36 C79.67 152.35, 159.55 60.86, 211.87 -0.77 M-0.56 243.49 C55.28 181.85, 110.14 118.17, 211.95 0.43 M-1.02 250.91 C49.91 193.87, 96.87 138.86, 218.02 0.71 M-0.52 250.74 C58.64 182.46, 118.33 114.3, 217.87 -0.78 M1.27 257.01 C87.61 153.56, 172.88 54.28, 222.76 0.64 M0.06 255.34 C82.42 161.9, 164.41 67.59, 222.95 0.48 M-1.36 262.62 C87.56 163.8, 175.17 62.44, 229.25 -0.3 M0.31 261.67 C90.2 160.11, 179.23 58.05, 228.07 -0.09 M0.86 267.64 C54.03 205.97, 108.77 142.47, 233.87 -0.72 M0.1 267.47 C74.26 179.56, 150.13 93.29, 233.55 -0.59 M-0.81 274.04 C58.02 206.12, 118.14 138.36, 237.3 0.35 M-0.58 274.58 C48.43 218.55, 98.19 161.76, 238.01 0.79 M0.61 279.58 C72.4 197.49, 146.26 114.49, 243.42 -0.47 M-0.27 280.39 C94.97 172.13, 189.69 62.74, 243.57 -0.32 M-0.9 286.46 C83.67 190.62, 168 94.3, 248.46 0.39 M0.28 286.84 C54.48 220.48, 110.73 155.05, 248.23 -0.13 M-0.43 292.67 C77.37 201.24, 157.35 111.17, 254.24 -0.44 M-0.61 292.18 C97.83 180.85, 195.24 67.99, 254.83 -0.39 M1.34 297.89 C71.57 213.06, 144.63 129.34, 259.02 1.43 M0.76 298.32 C80.58 206.61, 159.73 115.77, 259.33 0.79 M-0.68 305.76 C87 204.82, 174.15 104.87, 266.1 -0.68 M-0.46 304.25 C83.65 209.41, 165.75 114.54, 265.06 -0.12 M0.72 311.03 C71.16 230.22, 141.35 148.3, 270.46 1.23 M0.27 310.66 C72.88 225, 148.19 138.91, 269.8 0.27 M-0.71 316.52 C93.11 208.6, 187.95 101.9, 276.32 0.15 M-0.31 316.92 C92.69 209.66, 184.59 103.21, 275.25 -0.2 M0.83 323.19 C106.72 201.48, 213.67 77.56, 281.58 -0.68 M-0.19 322.88 C95.31 211.55, 191.46 100.92, 281.13 0.67 M0.66 328.47 C77.72 238.62, 153.63 150.78, 286.45 0.43 M0.06 329.31 C112.63 201.83, 224.4 73.47, 285.87 -0.33 M5.82 329.43 C84.18 238.89, 163.51 148.95, 291.07 0.63 M5.37 328.98 C80.98 242.14, 158.25 153.8, 291.25 -0.19 M10.75 329.85 C115.88 210.15, 218.58 89.08, 297.5 0.11 M11.05 328.44 C117.22 204.99, 224.86 80.91, 296.94 -0.42 M14.93 329.34 C107.61 226.53, 197.13 123.27, 301.35 0.98 M15.88 329.21 C128.01 198.3, 240.39 68.73, 301.92 0.51 M21.72 328.47 C80.1 259.96, 141.56 189.15, 308.1 0.38 M21.71 329.3 C126.01 207.25, 232.37 84.99, 307.25 -0.52 M25.87 329.9 C138.48 201.68, 250.06 72.4, 312.44 -0.3 M26.72 329.66 C88.73 254.71, 151.98 182.34, 312.44 0.33 M31.83 329.46 C123.71 222.31, 216.94 116.53, 318.64 -0.31 M32.27 328.58 C92.25 260.14, 152.26 191.74, 318.2 0.14 M37.24 329.34 C136.13 217.92, 231.94 107.45, 324.04 -0.52 M37.19 329.23 C103.16 253.9, 169.14 178.38, 322.81 -0.25 M43.08 329.18 C139.01 215.01, 237.66 102.14, 329.19 -0.14 M42.59 328.91 C128.32 229.45, 215.74 129.29, 328.88 0.19 M47.33 329.21 C138.16 224.2, 229.52 119.76, 333.52 0.27 M48.23 328.67 C121.56 243.5, 196.62 157.45, 333.69 0.06 M53.09 329.35 C126.02 246.88, 197.08 164.96, 339.47 0 M53.21 328.68 C119.35 251.8, 185.95 175.11, 340.01 0.08 M58.17 328.35 C124.2 255.29, 188.61 181.05, 344.03 -0.7 M58.43 328.6 C151.24 219.81, 245.52 111.3, 344.37 0.41 M63.22 328.98 C165.41 212.79, 265.78 97.28, 350.31 1.29 M64.3 329.16 C161.2 218.18, 258.46 105.37, 349.29 -0.11 M69.43 328.98 C148.12 236.98, 226.05 147.07, 354.31 -0.82 M69.07 329.45 C130.53 259.31, 191.79 188.94, 354.82 -0.24 M74.51 328.39 C156.2 232.63, 236.04 139.65, 360.08 -0.08 M74.68 328.45 C173.69 215.24, 271.92 101.85, 360.12 0.28 M80.49 328.55 C145.28 253.07, 212.13 177.7, 364.86 -0.2 M80.05 329.48 C154.56 243.05, 229.9 155.78, 365.66 -0.04 M85.67 329.26 C148.79 254.15, 212.86 180.46, 370.99 -0.26 M84.86 328.52 C180.24 220.06, 274.36 112.13, 370.5 -0.02 M90.4 329.88 C197.24 207.65, 303.18 84.41, 375.81 0.37 M89.94 328.82 C146.7 263.89, 203.97 198.8, 376.15 -0.34 M95.08 328.49 C171 242.51, 246.99 154.02, 381.51 1.11 M96 328.16 C196.01 215.16, 293.79 101.33, 381.82 -0.15 M101.93 329.04 C191.74 224.27, 282.57 118.18, 387.03 -0.64 M100.99 328.44 C190.14 226.93, 278.64 126.01, 387.24 -0.6 M106.23 329.13 C175.7 247.38, 247.89 165.12, 391.84 -0.35 M106.24 329.78 C168.4 256.99, 229.67 186.29, 392.05 0.59 M111.48 329.49 C172.73 256.04, 237.78 182.69, 398.02 0.67 M112.06 329.18 C181.65 247.18, 251.55 166.1, 397.5 -0.48 M116.15 329.26 C212 218.05, 309.26 107.93, 401.84 0.41 M116.33 329.32 C211.58 218.61, 306.13 110.1, 402.87 0.69 M123.23 327.94 C223.93 210.29, 327.53 92.68, 408 -0.63 M122.69 328.65 C189.49 249.89, 257.53 171.84, 408.19 0.24 M127.71 328.5 C188.39 256.78, 250.62 185.21, 413.1 -0.37 M126.76 328.88 C200.47 247.38, 271.96 164.88, 413.61 0.55 M132.93 328.47 C229.3 216.43, 325.55 105, 419.91 -0.03 M133.08 328.37 C210.57 236.72, 289.91 146.48, 419.19 -0.42 M138.02 329.09 C231.9 221.5, 327.16 112.95, 424.86 0.98 M138.31 329.64 C225.43 228.8, 313.14 128.21, 424.23 0.39 M144.13 328.41 C232.32 229.48, 318.49 128.01, 428.33 2.48 M143.07 328.7 C236.68 222.65, 329.33 116.61, 427.08 1.72 M147.92 328.48 C208.51 257.62, 268.89 188.21, 427.43 6.84 M148.37 329.62 C256.08 203.17, 363.86 78.32, 427.81 7.81 M153.96 328.44 C245.96 223.35, 336.97 117.68, 426.93 13.47 M154.22 328.8 C239.83 228.82, 325.29 129.84, 427.54 13.92 M160.11 329.66 C262.73 211.48, 364.13 93.2, 428.19 20.64 M159.06 328.58 C256.83 215.87, 355.35 103.28, 428.29 19.7 M165.45 328.57 C225.54 258.52, 287.21 187.74, 428.48 25.61 M164.61 328.71 C256.32 225.58, 345.83 122.07, 427.99 25.96 M170.55 328.43 C229.26 258.96, 290.64 189.42, 426.46 31.7 M170.18 329.49 C240.83 248.14, 311.63 166.94, 427.88 31.97 M174.77 327.98 C257.07 234.76, 341.05 139.2, 428.27 38.74 M175.1 328.25 C245.71 246.67, 317.54 163.86, 427.84 38.31 M181.3 328.63 C261.75 233.07, 344.31 137.11, 428.13 43.84 M179.86 328.44 C257.19 241.26, 333.12 153.13, 427.35 44.99 M186.88 329.8 C256.49 246.92, 328.61 166.41, 427.71 49.29 M186.31 328.25 C276.97 225.36, 366.54 123.23, 428.48 50.1 M191.87 328.9 C276.42 232.89, 360.54 133.69, 427.48 55.79 M190.48 329.46 C250 259.36, 309.9 190.96, 427.54 56.49 M196.91 329.09 C271.21 242.71, 345.88 156.57, 427.43 63.25 M197.2 328.2 C245.04 272.06, 293.21 215.5, 427.85 63.43 M201.29 329.34 C273.58 246.05, 347.83 161.21, 428.63 69.47 M201.79 329.17 C256.53 265.68, 311.41 203.56, 428.45 67.95 M206.76 329.86 C284.25 239.06, 362.5 150.8, 427.15 76.31 M207.45 328.67 C290.54 231.5, 373.51 135.71, 427.85 75.5 M213.5 329.15 C295.23 234.28, 376.28 141.23, 427.79 80.72 M211.66 328.89 C292.91 235.64, 374.19 142.15, 428.18 80.9 M218.26 327.46 C269.48 272.5, 319.16 213.25, 426.69 87.71 M217.59 328.64 C261.18 275.1, 307.16 222.8, 428.02 86.71 M224.07 329.24 C301.88 235.45, 383.54 141.97, 427.97 92.98 M222.78 328.49 C296.15 244.47, 369.14 161.12, 427.7 93.39 M226.59 327.9 C302.48 242.68, 378.61 155.67, 429.08 97.66 M228.58 328.95 C277.4 274.08, 324.83 219.03, 428.11 99.33 M233.3 329.68 C304.35 246.1, 378.08 159.6, 428.37 106.89 M233.35 329.12 C272.5 283.55, 313.02 237.4, 428.19 104.97 M239.83 328.66 C293.69 263.95, 351.65 202.26, 428.28 111.36 M238.51 329.47 C301.37 256.94, 363.3 184.95, 428.81 111.25 M244.17 329.47 C294.18 269.43, 346.8 210.24, 428.47 118.48 M243.81 328.73 C307.57 256.46, 370.77 182.75, 428.33 117.38 M249.02 328.25 C290.38 282.24, 333.79 234.37, 428.68 125.17 M248.75 329.14 C307.91 262.52, 367.36 193.51, 428.13 123.66 M253.23 329.57 C316.25 259.74, 375.12 188.79, 427.95 130.72 M254.16 329.53 C319.78 253.86, 383.67 179.9, 428.39 129.92 M260.27 329.45 C325.18 253.39, 389.62 177.75, 427.22 134.58 M259.44 328.88 C306.77 278.38, 351.86 225.88, 426.96 135.29 M265.88 329.92 C298.67 289.67, 333.2 249.68, 429.18 142.63 M265.45 328.85 C303.61 287.71, 340.55 245.11, 428.11 141.53 M270.05 327.61 C316.6 278.49, 359.58 228.24, 427.7 149.18 M270.17 329.48 C323.71 269.4, 374.21 210.09, 428.57 148.6 M277.58 329.31 C334.09 263.2, 391.94 196.8, 426.94 152.7 M276.58 328.47 C310.75 287.81, 346.81 247.62, 427.68 154.86 M280.69 330.02 C334.5 272.26, 383.05 210.74, 427.81 160.6 M281.62 329.84 C318.97 284.91, 357.09 240.31, 428.23 160.06 M286.06 328.66 C335.45 273.98, 382.24 219.34, 427.27 166.14 M287.47 328.39 C325.6 282.65, 366.3 235.63, 426.98 166.81 M290.71 329.54 C344.57 272.45, 395.21 209.97, 427.88 172.31 M292.14 328.45 C346.71 268.07, 401.64 205.07, 428.83 172.52 M299.29 327.67 C330.48 288.47, 364.13 251.12, 427.05 179.3 M297.43 328.3 C326.44 292.7, 356.8 255.81, 428.65 177.79 M301.47 327.68 C335.57 287.89, 373.43 249.48, 427.05 184.03 M302.97 328.76 C332.15 297, 361.39 262.41, 426.83 184.09 M306.11 328.87 C342.91 287.18, 381.7 247.21, 426.84 189.23 M308.74 329.62 C346.18 284, 384.98 239.71, 427.96 191.15 M314.28 329.14 C344.73 292.71, 381.34 253.89, 425.87 195.79 M312.73 328.83 C337.52 297.5, 364.11 268.42, 427.4 197.89 M318.13 329.3 C347.71 294.3, 379.09 258.34, 426.45 203.73 M319.4 329.33 C355.16 287.53, 392.34 244.56, 429.09 202.07 M325.39 329.32 C366.72 279.61, 404.95 234.02, 426.21 208.53 M323.51 329.94 C344.53 303.75, 367.19 278.59, 427.41 209.19 M330.39 328.6 C350.7 302.89, 374.28 278.42, 428.48 214.03 M328.56 328.17 C352.43 299.86, 376.14 272.43, 426.94 216.11 M334.55 330.2 C363.19 295.65, 389.53 266.88, 426.02 221.03 M334.62 329.16 C369.01 288.31, 404 248.52, 427.59 220.16 M340.69 329.82 C358.07 307.52, 378.22 284.35, 428.86 227.72 M340.06 329.28 C373.06 290.48, 406.32 252.41, 427.74 228.27 M344.87 328.36 C363.41 309.33, 380.62 285.77, 426.59 234.71 M344.71 329.24 C369.8 298.68, 393.96 270.97, 427.98 232.62 M348.14 328.36 C375.99 297.05, 402.58 268.24, 428.92 241.27 M349.01 329.25 C367.52 308.35, 386.4 286.88, 427.01 239.49 M354.87 327.03 C380.75 301.84, 404.73 274.05, 427.97 246.34 M355.73 328.61 C380.3 300.93, 402.9 274.23, 427.3 244.87 M361.27 328.5 C387.93 300.76, 412.6 269.4, 426.06 253.02 M359.86 328.62 C379.85 304.91, 400.42 280.7, 428.29 251.63 M366.41 328.05 C389.05 304.27, 409.25 281.97, 427.52 257.08 M366.96 329.41 C386.76 303.9, 409.11 277.9, 427.53 258.62 M372.65 328.4 C385.02 316.11, 397.59 300.36, 429.01 263.95 M371.04 328.85 C382.67 315.31, 395.57 302, 428.4 264.27 M376.73 327.9 C392.38 310.82, 405.03 297.24, 428.02 268.97 M376.96 329.43 C389.18 313.75, 402.41 298.8, 427.99 269.52 M382.21 328.85 C398.36 309.99, 411 294.71, 429.24 274.41 M382.28 329.1 C398.27 310.38, 415.37 290.28, 426.82 275.4 M386.47 329.67 C399.51 313.34, 411.87 300.33, 428.29 281.92 M387.63 328.18 C399.16 316.74, 408.69 302.37, 427.99 282.17 M393.26 329.24 C403.91 316.06, 413.76 305.61, 427.55 289.1 M392.62 328.21 C404.85 314.95, 418.84 298.49, 428.33 288.45 M399.62 327.08 C405.86 318.92, 417.3 308.1, 426.5 294.45 M398.18 328.84 C404.72 321.34, 412.97 312.95, 428.13 294.84 M404.48 327.63 C411.7 317.38, 420.56 306.58, 426.18 301.64 M402.44 328.71 C410.77 318.8, 420.65 310.24, 427.03 300.81 M407.56 328.48 C413.89 321.73, 418.85 316.51, 427.57 308.48 M409.12 328.3 C413.46 321.4, 420.82 315.1, 427.69 306.27 M413.93 328.66 C416.73 324.69, 420.61 320.63, 427.36 311.48 M413.4 328.82 C419.39 321.7, 424.04 316.57, 429 312.77 M420.39 328.77 C420.06 325.16, 422.74 323.47, 429.04 318.48 M418.61 328.94 C421.6 326.55, 423.52 323.93, 427.39 318.68 M423.86 328.59 C425.46 327.24, 426.04 326.67, 428.32 324.55 M424.29 328.84 C425.3 327.86, 425.83 326.71, 427.99 324.44" stroke="#ffffff" stroke-width="0.5" fill="none"></path><path d="M0.28 0.73 C90.89 0.82, 183.05 1.49, 425.63 -0.87 M0.38 0.2 C165.14 0.6, 328.98 1.02, 426.27 -0.41 M425.14 0.41 C427.13 81.31, 428.45 159.04, 426.42 327.63 M426.46 0.01 C425.03 110.44, 425.75 221.09, 425.76 329.28 M424.98 329.69 C320.02 328.22, 216.08 328.47, 0.1 328.41 M425.95 328.94 C291.62 329, 157.78 329.72, 0.39 328.77 M-0.34 328.95 C0.6 234.81, 1.22 142.01, 1.35 -0.8 M-0.51 328.8 C1.69 237.34, 1.03 145.55, -0.16 0.46" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(934.9999389648438 123.59993896484374) rotate(0 114.84375 16.80000000000001)"><text x="0" y="0" font-family="Cascadia, Segoe UI Emoji" font-size="28px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">run_first_task</text></g><g transform="translate(881.6666870117188 170.39990844726563) rotate(0 184.765625 48)"><text x="0" y="0" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">1.执行__switch，恢复task_context:</text><text x="0" y="24" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="48" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">* ra寄存器 &lt;- trap_return</text><text x="0" y="72" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">* sp寄存器 &lt;- kernel_stack4app</text></g><g transform="translate(880.3334350585938 290.9333129882813) rotate(0 194.765625 60)"><text x="0" y="0" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">2.执行trap_return，跳转至__restore:</text><text x="0" y="24" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="48" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">* 切换到用户地址空间</text><text x="0" y="72" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">* 恢复trap_context</text><text x="0" y="96" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">* sret -&gt; entry</text></g><g stroke-linecap="round"><g transform="translate(730.6666870117188 255.35476170930733) rotate(0 66.67578081227839 0.3497586496570193)"><path d="M1.35 0.37 C41.41 1.86, 83.62 1.82, 133.1 -0.8 M0.25 0.47 C30.17 -0.21, 60.18 -0.84, 131.56 1.5" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(730.6666870117188 255.35476170930733) rotate(0 66.67578081227839 0.3497586496570193)"><path d="M104.47 11.41 C111.97 9.54, 121.65 6.33, 132.66 0.15 M103.37 11.5 C110.08 8.94, 116.81 6.03, 131.12 2.44" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(730.6666870117188 255.35476170930733) rotate(0 66.67578081227839 0.3497586496570193)"><path d="M104.99 -9.11 C112.38 -4.53, 121.89 -1.3, 132.66 0.15 M103.89 -9.01 C110.32 -6.96, 116.94 -5.26, 131.12 2.44" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask></svg>